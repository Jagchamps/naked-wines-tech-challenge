{"version":3,"sources":["data/images/white-wine-placeholder.jpg","data/images/red-wine-placeholder.jpg","data/images/rose-wine-placeholder-2.jpg","data/images/sparkling-wine-placeholder-2.jpeg","components/StarRating.js","components/Card.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","StarRating","props","rating","useRef","averageRating","Math","round","useEffect","ev","stars","current","getElementsByClassName","Array","from","forEach","star","style","color","dataset","value","setRating","className","ref","data-rating","numberOfStars","keys","map","n","key","data-value","SuccessBtn","withStyles","root","height","white","backgroundColor","Button","ErrorBtn","WineImage","type","src","red","sparkling","rose","Card","product","useTheme","lowStock","icon","faHeart","size","productName","producer","firstName","lastName","faWineGlassAlt","fixedWidth","wineGrape","faGlobeEurope","origin","faTint","alcoholStrength","price","markedOutOfStock","variant","TextField","startIcon","faShoppingBasket","theme","createMuiTheme","palette","primary","main","secondary","CardList","wines","wine","id","App","useState","isFetching","data","setData","a","axios","get","response","console","log","fetchWinesAxios","ThemeProvider","role","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3e99bfd4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/white-wine-placeholder.88493f7c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/red-wine-placeholder.8d85c2f9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rose-wine-placeholder-2.4d07052b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sparkling-wine-placeholder-2.db8c67bb.jpeg\";","import React, { useEffect, useState, useRef } from 'react';\n\n//import './star-rating.css';\n\nfunction StarRating(props) {\n  const rating = useRef(\"rating\");\n  const averageRating = Math.round(props.averageRating);\n\n  useEffect(() => {\n    const setRating = ev => {\n      const stars = rating.current.getElementsByClassName('star');\n      Array.from(stars).forEach(star => {\n        star.style.color =\n          averageRating >= star.dataset.value ? '#df171e' : 'gray';\n      });\n    };\n    setRating();\n  }, []);\n\n  return (\n    <div\n      className=\"rating\"\n      ref={rating}\n      data-rating={averageRating}\n    >\n      {[...Array(+props.numberOfStars).keys()].map(n => {\n        return (\n          <span\n            className=\"star\"\n            key={n+1}\n            data-value={n+1}\n          >\n            &#9733;\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default StarRating;","import React, { useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { \n    faWineGlassAlt, \n    faGlobeEurope, \n    faHeart, \n    faShoppingBasket,\n    faTint,\n} \n    from '@fortawesome/free-solid-svg-icons';\nimport { withStyles } from '@material-ui/core/styles';\nimport StarRating from './StarRating.js';\nimport '../styles/App.scss';\nimport red from '../data/images/red-wine-placeholder.jpg';\nimport white from '../data/images/white-wine-placeholder.jpg';\nimport rose from '../data/images/rose-wine-placeholder-2.jpg';\nimport sparkling from '../data/images/sparkling-wine-placeholder-2.jpeg';\n\nconst SuccessBtn = withStyles({\n    root: {\n        height: \"100%\",\n        color: white,\n        backgroundColor: \"#35b63e\",\n        \"&:hover\": {\n            backgroundColor: \"#008506\",\n        },\n    },\n})(Button);\n\nconst ErrorBtn = withStyles({\n    root: {\n        color: white,\n        backgroundColor: \"#df171e\",\n        \"&:hover\": {\n            backgroundColor: \"#a40000\",\n        },\n    },\n})(Button);\n\nfunction WineImage(props) {\n    const type = props.type;\n    switch (type) {\n        case \"red\": \n            return <img className=\"product-image\" src={red}></img>\n        case \"white\":\n            return <img className=\"product-image\" src={white}></img>\n        case \"sparkling\":\n            return <img className=\"product-image\" src={sparkling}></img>\n        case \"rose\":\n            return <img className=\"product-image\" src={rose}></img>\n    }\n}\n\nfunction Card(props) {\n    const product = props.product;\n    const theme = useTheme();\n\n    return (\n        <div className=\"product-card\">\n            <div className=\"product-image-container\">\n                <WineImage type={product.type}/>\n                <div className=\"product-label\">\n                    {product.lowStock &&\n                        <h6 className=\"badge badge-red\">LOW STOCK</h6>\n                    }\n                </div>\n                <div className=\"product-rating\">\n                    <StarRating \n                        numberOfStars=\"5\"\n                        averageRating={product.averageRating}/>\n                </div>\n                <FontAwesomeIcon \n                    className=\"product-favourite\"\n                    icon={faHeart}\n                    color=\"white\" \n                    size=\"lg\"/>\n            </div>\n            <div className=\"product-info\">\n                <div className=\"product-description\">\n                    <h2>{product.productName}</h2>\n                    <h3>{product.producer.firstName} {product.producer.lastName}</h3>\n                    {/* <p>{product.tastingNotes}</p> */}\n                    <div className=\"product-style\">\n                        <FontAwesomeIcon \n                            className=\"style-icon\" \n                            icon={faWineGlassAlt} \n                            fixedWidth\n                            size=\"sm\"/>\n                        <span>{product.wineGrape}</span>\n                    </div>\n                    <div className=\"product-origin\">\n                        <FontAwesomeIcon \n                        className=\"style-icon\" \n                        icon={faGlobeEurope} \n                        fixedWidth\n                        size=\"sm\"/>\n                        <span>{product.origin}</span>\n                    </div>\n                    <div className=\"product-abv\">\n                        <FontAwesomeIcon \n                        className=\"style-icon\" \n                        icon={faTint} \n                        fixedWidth\n                        size=\"sm\"/>\n                        <span>{product.alcoholStrength}%</span>\n                    </div>\n                </div>\n            </div>\n            <div className=\"product-price\">\n                <p>Market Price: {product.price}</p>\n                {product.markedOutOfStock &&\n                    <ErrorBtn variant=\"contained\" color=\"primary\">Out of stock</ErrorBtn>\n                }\n                {!product.markedOutOfStock && \n                    <div className=\"product-form\">\n                        <div className=\"product-quantity\">\n                            <TextField  variant=\"outlined\" />\n                        </div>\n                        <div className=\"atb-btn\">\n                            <SuccessBtn startIcon={<FontAwesomeIcon icon={faShoppingBasket} size=\"sm\"/>} variant=\"contained\" color=\"primary\"\n                            size=\"large\">Buy Now</SuccessBtn>\n                        </div>\n                    </div>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport Card from './Card.js';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport '../styles/App.scss';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#1a237e\",\n    },\n    secondary: {\n      main: \"#ff9100\",\n    },\n  }\n});\n\nconst LOCAL_WINE_DATA_URL = 'http://localhost:3001/wines';\n\nconst WINE_DATA_URL = 'http://naked-wines-tech-challenge-data.s3.eu-west-1.amazonaws.com/wine-data.json';\n\nconst CardList = (props) => (\n  <section className=\"products\">\n      {props.wines.map(wine => \n          <Card \n            key={wine.id} \n            product={wine}/>\n      )}\n  </section>\n);\n\nfunction App() {\n  const [data, setData] = useState({wines: [], isFetching: false});\n\n  useEffect(() => {\n    const fetchWinesAxios = async () => {\n      try {\n        setData({wines: data.wines, isFetching: true});\n        const response = await axios.get(WINE_DATA_URL);\n        console.log(response.data);\n        console.log(response.data.wines);\n        setData({wines: response.data.wines, isFetching: false});\n      } catch (e) {\n        console.log(e);\n        setData({wines: data.wines, isFetching: false});\n      }\n    };\n    fetchWinesAxios();\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <h1>Champion Wines</h1>\n        </div>\n        <main className=\"main-section\" role=\"main\">\n          <div className=\"App-body\">\n            <CardList \n              wines={data.wines}\n              isFetching={data.isFetching}\n            />\n          </div>\n        </main>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}