{"version":3,"sources":["components/WineImage.js","components/StarRating.js","components/Card.js","components/Header.js","components/LoadingPage.js","components/App.js","serviceWorker.js","index.js","data/images/red-wine-placeholder.jpg","data/images/white-wine-placeholder.jpg","data/images/rose-wine-placeholder-2.jpg","data/images/sparkling-wine-placeholder-2.jpeg"],"names":["WineImage","props","type","className","src","red","white","sparkling","rose","StarRating","rating","useRef","useEffect","ev","stars","current","getElementsByClassName","Array","from","forEach","star","style","color","averageRating","dataset","value","setRating","ref","data-rating","numberOfStars","keys","map","n","key","data-value","ATBBtn","withStyles","root","height","backgroundColor","Button","OOSBtn","Card","product","Math","round","useTheme","lowStock","Tooltip","title","icon","faHeart","size","onClick","productName","producer","firstName","lastName","placement","faWineGlassAlt","fixedWidth","wineGrape","faGlobeEurope","origin","faTint","alcoholStrength","price","markedOutOfStock","variant","TextField","defaultValue","productQuantity","Header","startIcon","faShoppingBasket","LoadingPage","width","theme","createMuiTheme","palette","primary","main","secondary","CardList","wines","wine","id","App","useState","isFetching","data","setData","a","axios","get","response","console","log","fetchWinesAxios","ThemeProvider","role","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.81766ee0.chunk.js","sourcesContent":["import React from \"react\";\nimport \"../styles/App.scss\";\nimport red from \"../data/images/red-wine-placeholder.jpg\";\nimport white from \"../data/images/white-wine-placeholder.jpg\";\nimport rose from \"../data/images/rose-wine-placeholder-2.jpg\";\nimport sparkling from \"../data/images/sparkling-wine-placeholder-2.jpeg\";\n\nfunction WineImage(props) {\n  const type = props.type;\n  switch (type) {\n    case \"red\":\n      return <img className=\"product-image\" src={red}></img>;\n    case \"white\":\n      return <img className=\"product-image\" src={white}></img>;\n    case \"sparkling\":\n      return <img className=\"product-image\" src={sparkling}></img>;\n    case \"rose\":\n      return <img className=\"product-image\" src={rose}></img>;\n  }\n}\n\nexport default WineImage;\n","import React, { useEffect, useRef } from \"react\";\n\nfunction StarRating(props) {\n  const rating = useRef(\"rating\");\n\n  useEffect(() => {\n    const setRating = ev => {\n      const stars = rating.current.getElementsByClassName(\"star\");\n      Array.from(stars).forEach(star => {\n        star.style.color =\n          props.averageRating >= star.dataset.value ? \"#df171e\" : \"black\";\n      });\n    };\n    setRating();\n  }, []);\n\n  return (\n    <div className=\"rating\" ref={rating} data-rating={props.averageRating}>\n      {[...Array(+props.numberOfStars).keys()].map(n => {\n        return (\n          <span className=\"star\" key={n + 1} data-value={n + 1}>\n            &#9733;\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default StarRating;\n","import React from \"react\";\nimport { Button, TextField, Tooltip } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faWineGlassAlt,\n  faGlobeEurope,\n  faHeart,\n  faTint\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport WineImage from \"./WineImage.js\";\nimport StarRating from \"./StarRating.js\";\nimport \"../styles/App.scss\";\n\nconst ATBBtn = withStyles({\n  root: {\n    height: \"100%\",\n    color: \"white\",\n    backgroundColor: \"#35b63e\",\n    \"&:hover\": {\n      backgroundColor: \"#008506\"\n    }\n  }\n})(Button);\n\nconst OOSBtn = withStyles({\n  root: {\n    height: \"100%\",\n    color: \"white\",\n    backgroundColor: \"#df171e\",\n    \"&:hover\": {\n      backgroundColor: \"#a40000\"\n    }\n  }\n})(Button);\n\nfunction Card(props) {\n  const product = props.product;\n  const averageRating = Math.round(product.averageRating);\n  const theme = useTheme();\n\n  return (\n    <div className=\"product-card\">\n      <div className=\"product-image-container\">\n        <WineImage type={product.type} />\n        <div className=\"product-label\">\n          {product.lowStock && <h6 className=\"badge badge-red\">LOW STOCK</h6>}\n        </div>\n        <Tooltip title=\"Rating\">\n          <div className=\"product-rating\">\n            <StarRating numberOfStars=\"5\" averageRating={averageRating} />\n          </div>\n        </Tooltip>\n        <Tooltip title=\"Favourite\">\n          <div className=\"product-favourite\">\n            <FontAwesomeIcon icon={faHeart} size=\"lg\" onClick=\"\" />\n          </div>\n        </Tooltip>\n      </div>\n      <div className=\"product-name\">\n        <h2>{product.productName}</h2>\n      </div>\n      <div className=\"product-info\">\n        <h3>\n          {product.producer.firstName} {product.producer.lastName}\n        </h3>\n        <div className=\"product-style\">\n          <Tooltip title=\"Grape\" placement=\"left\">\n            <div>\n              <FontAwesomeIcon\n                className=\"style-icon\"\n                icon={faWineGlassAlt}\n                fixedWidth\n                size=\"sm\"\n              />\n            </div>\n          </Tooltip>\n          <span>{product.wineGrape}</span>\n        </div>\n        <div className=\"product-origin\">\n          <Tooltip title=\"Origin\" placement=\"left\">\n            <div>\n              <FontAwesomeIcon\n                className=\"style-icon\"\n                icon={faGlobeEurope}\n                fixedWidth\n                size=\"sm\"\n              />\n            </div>\n          </Tooltip>\n          <span>{product.origin}</span>\n        </div>\n        <div className=\"product-abv\">\n          <Tooltip title=\"ABV%\" placement=\"left\">\n            <div>\n              <FontAwesomeIcon\n                className=\"style-icon\"\n                icon={faTint}\n                fixedWidth\n                size=\"sm\"\n              />\n            </div>\n          </Tooltip>\n          <span>{product.alcoholStrength}%</span>\n        </div>\n      </div>\n      <div className=\"product-price\">\n        <p>Market Price: {product.price}</p>\n        {product.markedOutOfStock && (\n          <div className=\"oos-btn\">\n            <OOSBtn variant=\"contained\" color=\"primary\" size=\"large\">\n              Out of stock\n            </OOSBtn>\n          </div>\n        )}\n        {!product.markedOutOfStock && (\n          <div className=\"product-form\">\n            <div className=\"product-quantity\">\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                defaultValue={product.productQuantity}\n              />\n            </div>\n            <div className=\"atb-btn\">\n              <ATBBtn variant=\"contained\" color=\"primary\" size=\"large\">\n                Add to Basket\n              </ATBBtn>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faShoppingBasket } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Header() {\n  return (\n    <div className=\"app-header\">\n      <div className=\"header-left\">\n        <h1>Champion Wines</h1>\n      </div>\n      <div className=\"header-right\">\n      <Button startIcon={<FontAwesomeIcon icon={faShoppingBasket} size=\"lg\" onClick=\"\" />} variant=\"outlined\" color=\"secondary\" size=\"large\">Add card</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"../styles/App.scss\";\n\nfunction LoadingPage() {\n  return (\n    <div className=\"loading-icon\">\n      <Loader type=\"Rings\" color=\"black\" height={100} width={100} />\n    </div>\n  );\n}\n\nexport default LoadingPage;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Card from \"./Card.js\";\nimport Header from \"./Header.js\"\nimport LoadingPage from \"./LoadingPage.js\";\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport \"../styles/App.scss\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#1a237e\"\n    },\n    secondary: {\n      main: \"#ffffff\"\n    }\n  }\n});\n\n// Used for testing locally\n// const LOCAL_WINE_DATA_URL = \"http://localhost:3001/wines\";\n\nconst WINE_DATA_URL =\n  \"https://naked-wines-tech-challenge-data.s3.eu-west-1.amazonaws.com/wine-data.json\";\n\nconst CardList = props => (\n  <section className=\"products\">\n    {props.wines.map(wine => (\n      <Card key={wine.id} product={wine} />\n    ))}\n  </section>\n);\n\nfunction App() {\n  const [data, setData] = useState({ wines: [], isFetching: false });\n\n  useEffect(() => {\n    const fetchWinesAxios = async () => {\n      try {\n        setData({ wines: data.wines, isFetching: true });\n        const response = await axios.get(WINE_DATA_URL);\n        console.log(response.data);\n        setData({ wines: response.data.wines, isFetching: false });\n      } catch (e) {\n        console.log(e);\n        setData({ wines: data.wines, isFetching: true });\n      }\n    };\n    fetchWinesAxios();\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"app\">\n        <Header/>\n        <main className=\"main-section\" role=\"main\">\n          <div className=\"app-body\">\n            {data.isFetching && <LoadingPage />}\n            {!data.isFetching && (\n              <CardList wines={data.wines} isFetching={data.isFetching} />\n            )}\n          </div>\n        </main>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/red-wine-placeholder.8d85c2f9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/white-wine-placeholder.88493f7c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rose-wine-placeholder-2.4d07052b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sparkling-wine-placeholder-2.db8c67bb.jpeg\";"],"sourceRoot":""}